{"version":3,"sources":["../../../src/plugins/authorization.js"],"names":["base64encode","require","module","exports","input","cb","headers","clientOptions","token","username","password","auth"],"mappings":";;;;;;AAAA,IAAMA,eAAeC,QAAQ,oBAAR,CAArB;;AAEAC,OAAOC,OAAP,GAAiB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2CACSC,KADT,EACgBC,EADhB,EACoB;AACjC,UAAID,MAAME,OAAN,IAAiB,IAArB,EAA2B;AAAEF,cAAME,OAAN,GAAgB,EAAhB;AAAoB;AADhB,UAE5BA,OAF4B,GAE2BF,KAF3B,CAE5BE,OAF4B;AAAA,iCAE2BF,KAF3B,CAEnBG,aAFmB;AAAA,UAEHC,KAFG,wBAEHA,KAFG;AAAA,UAEIC,QAFJ,wBAEIA,QAFJ;AAAA,UAEcC,QAFd,wBAEcA,QAFd;;AAGjC,UAAIF,SAAUC,YAAYC,QAA1B,EAAqC;AACnC,YAAIF,KAAJ,EAAW;AACT,cAAIG,kBAAgBH,KAApB;AACD,SAFD,MAEO;AACL,cAAIG,kBAAgBX,aAAgBS,QAAhB,SAA4BC,QAA5B,CAApB;AACD;AACDN,cAAME,OAAN,CAAc,eAAd,IAAiCK,IAAjC;AACD;AACD,aAAON,GAAG,IAAH,EAASD,KAAT,CAAP;AACD;AAbc;;AAAA;AAAA,MAAjB","file":"authorization.js","sourcesContent":["const base64encode = require('../adapters/base64')\n\nmodule.exports = new class Authorization {\n  requestMiddlewareAsync (input, cb) {\n    if (input.headers == null) { input.headers = {} }\n    let {headers, clientOptions: {token, username, password}} = input\n    if (token || (username && password)) {\n      if (token) {\n        var auth = `token ${token}`\n      } else {\n        var auth = `Basic ${base64encode(`${username}:${password}`)}`\n      }\n      input.headers['Authorization'] = auth\n    }\n    return cb(null, input)\n  }\n}()\n"]}